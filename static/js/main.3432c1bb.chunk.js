(this["webpackJsonpdevice-test"]=this["webpackJsonpdevice-test"]||[]).push([[0],{34:function(e,t,c){},61:function(e,t,c){},89:function(e,t,c){"use strict";c.r(t);var r=c(0),n=c.n(r),a=c(49),o=c.n(a),i=(c(61),c(50)),s=c(5),l=c(24),j=c(28),b=c.n(j),d=c(35),u=c(7),O=c(36),x=c.n(O),v=c(106),f=c(110),h=c(108),p=c(109),g=(c(34),c(1));function m(){var e=Object(r.useState)({access:!1,recorder:null,error:""}),t=Object(u.a)(e,2),c=t[0],n=t[1],a=Object(r.useState)({active:!1,available:!1,url:""}),o=Object(u.a)(a,2),i=o[0],s=o[1],j=Object(r.useRef)([]),O=Object(r.useRef)(null);Object(r.useEffect)((function(){w()}),[O]);var m=window.navigator.userAgent.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];console.log("browser",m[1]);var w=function(){navigator.mediaDevices.getUserMedia({audio:!0,video:{width:563,height:430}}).then((function(e){var t,c=O.current;c.muted=!0,c.setAttribute("playsinline",!0),c.srcObject=e,c.play();try{t=new MediaRecorder(e,{mimeType:"Safari"===m[1]?"video/mp4":"video/webm"})}catch(r){console.log(r)}t.stream.getTracks()[0].onended=function(){return console.log("ended")},t.onstart=function(){console.log("Video recording started"),s({active:!0,available:!1,url:""})},t.ondataavailable=function(e){console.log("data available",e.data),j.current.push(e.data)},t.onstop=Object(d.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("stopped"),t=URL.createObjectURL(j.current[0]),console.log("url",t),j.current=[],s({active:!1,available:!0,url:t});case 5:case"end":return e.stop()}}),e)}))),n(Object(l.a)(Object(l.a)({},e),{},{access:!0,recorder:t}))})).catch((function(e){console.error("error:",e)}))};return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsxs)("div",{className:"audio-container",children:[Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("button",{disabled:i.active,onClick:function(){return!i.active&&c.recorder.start()},children:"Start Recording"}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("button",{disabled:!i.active,onClick:function(){return c.recorder.stop()},children:"Stop Recording"}),i.available&&Object(g.jsx)(x.a,{url:i.url,controls:!0,width:"563px",height:"430px",id:"react"})]}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("div",{id:"video_box",children:Object(g.jsxs)("div",{children:[Object(g.jsx)("video",{id:"video",ref:O,children:"Your browser does not support this streaming content."}),Object(g.jsxs)("div",{id:"actionBtn",children:[Object(g.jsx)(f.a,{value:"end",control:Object(g.jsx)(v.a,Object(l.a)(Object(l.a)({},{inputProps:{"aria-label":"Hide video for me"}}),{},{defaultChecked:!0,size:"small"})),label:Object(g.jsx)(h.a,{color:"#00405E",children:"Hide video for me"}),labelPlacement:"end",sx:{display:"flex",marginTop:"5px"}}),Object(g.jsx)(f.a,{value:"end",control:Object(g.jsx)(p.a,{disableRipple:!0,sx:{textTransform:"none"},size:"small",onClick:function(){return c.recorder.stop()},children:Object(g.jsx)(h.a,{color:"#A30000",children:"Stop recording"})}),label:"",labelPlacement:"end",sx:{display:"flex",marginTop:"5px",marginLeft:"30px"}})]})]})})]})}function w(){var e=Object(r.useState)({access:!1,recorder:null,error:""}),t=Object(u.a)(e,2),c=t[0],n=t[1],a=Object(r.useState)({active:!1,available:!1,url:""}),o=Object(u.a)(a,2),i=o[0],s=o[1],j=Object(r.useRef)([]),O=window.navigator.userAgent.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];console.log("browser",O[1]);var x=function(){return"Safari"===O[1]?"audio/mp4":"audio/webm"};return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),c.access?Object(g.jsxs)("div",{className:"audio-container",children:[Object(g.jsx)("button",{className:i.active?"active":null,disabled:i.active,onClick:function(){return!i.active&&c.recorder.start()},children:"Start Recording"}),i.active&&Object(g.jsx)("p",{children:"Recording in progress "}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("button",{disabled:!i.active,onClick:function(){return c.recorder.stop()},children:"Stop Recording"}),i.available&&Object(g.jsx)("audio",{controls:!0,src:i.url})]}):Object(g.jsx)("button",{onClick:function(){navigator.mediaDevices.getUserMedia({audio:!0}).then((function(e){alert("Got permission"),navigator.mediaDevices.getUserMedia({audio:!0}).then((function(e){var t;try{t=new MediaRecorder(e,{mimeType:x()})}catch(r){console.log(r)}t.stream.getTracks()[0].onended=function(){return console.log("ended")},t.onstart=function(){s({active:!0,available:!1,url:""})},t.ondataavailable=function(e){console.log("data available"),j.current.push(e.data)},t.onstop=Object(d.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("stopped"),t=URL.createObjectURL(j.current[0]),j.current=[],s({active:!1,available:!0,url:t});case 4:case"end":return e.stop()}}),e)}))),n(Object(l.a)(Object(l.a)({},c),{},{access:!0,recorder:t}))})).catch((function(e){console.log(e),n(Object(l.a)(Object(l.a)({},c),{},{error:e}))}))})).catch((function(e){console.error("Error accessing media devices.",e)}))},children:"Geta Mic Access"})]})}var k=function(){var e=Object(s.f)();return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("button",{onClick:function(){return e("/video")},children:"  Check video"}),Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("button",{onClick:function(){return e("/audio")},children:" Check audio"}),Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("button",{onClick:function(){return e("/playVideo")},children:" Play video"}),Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{})," ",Object(g.jsx)("br",{}),Object(g.jsx)("button",{onClick:function(){return e("/face")},children:" Detect face"})]})},y=function(){return Object(g.jsx)("div",{className:"App",children:Object(g.jsx)(x.a,{url:"https://www.youtube.com/watch?v=GCsxgn4j8ag",controls:!0,width:"680px",height:"378px"})})};c(87),c(88);var C=function(){var e=r.useState(!1),t=Object(u.a)(e,2),c=(t[0],t[1]),n=r.useRef(null);r.useEffect((function(){o(),a()}),[n]);var a=function(){navigator.mediaDevices.getUserMedia({video:{width:350,height:350}}).then((function(e){var t=n.current;t.muted=!0,t.srcObject=e,t.setAttribute("playsinline",""),t.play()})).catch((function(e){console.error("error:",e)}))},o=function(){var e=document.getElementById("video"),t=document.getElementById("canvas"),r=t.getContext("2d"),n=new tracking.ObjectTracker(["face"]);tracking.track("#video",n),n.on("track",(function(a){console.log(a),r.clearRect(0,0,"350","350"),a.data.forEach((function(a){if(console.log("react value ",a),r.strokeStyle="#F8E71C",r.lineWidth=2,r.strokeRect(a.x,a.y,"162","162"),a.x>110&&a.x<190&&a.y>110&&a.y<190){r.drawImage(e,0,0,"350","350");var o=t.toDataURL("image/jpeg");console.log(o),n.removeAllListeners(),c(!0)}}))}))};return Object(g.jsxs)("div",{className:"Container",children:[Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("video",{id:"video",ref:n,width:"350px",height:"350px"}),Object(g.jsx)("canvas",{id:"canvas",width:"350px",height:"350px"})]})},R=function(){return Object(g.jsx)(i.a,{children:Object(g.jsx)(n.a.Fragment,{children:Object(g.jsxs)(s.c,{children:[Object(g.jsx)(s.a,{path:"/device-test",element:Object(g.jsx)(k,{})}),Object(g.jsx)(s.a,{path:"/video",element:Object(g.jsx)(m,{})}),Object(g.jsx)(s.a,{path:"/audio",element:Object(g.jsx)(w,{})}),Object(g.jsx)(s.a,{path:"/playVideo",element:Object(g.jsx)(y,{})}),Object(g.jsx)(s.a,{path:"/face",element:Object(g.jsx)(C,{})})]})})})},S=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,111)).then((function(t){var c=t.getCLS,r=t.getFID,n=t.getFCP,a=t.getLCP,o=t.getTTFB;c(e),r(e),n(e),a(e),o(e)}))};o.a.render(Object(g.jsx)(n.a.StrictMode,{children:Object(g.jsx)(R,{})}),document.getElementById("root")),S()}},[[89,1,2]]]);
//# sourceMappingURL=main.3432c1bb.chunk.js.map